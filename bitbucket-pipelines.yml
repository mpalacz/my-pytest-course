#  Template python-build

#  This template allows you to validate your python code.
#  The workflow allows running tests and code linting on the default branch.

image: python:3.11.0

pipelines:
  default:
    - step:
        name: Django Company API tests
        caches:
          - pip
        script:
           - pip install pipenv --upgrade
           - pipenv install --system
           - export PYTHONPATH=$PYTHONPATH:$PYTHONPATH/api/coronavstech
           - export DJANGO_SETTINGS_MODULE="coronavstech.settings"
           - pytest api/coronavstech -s -v --durations=0